<!-- This template use segment ui -->

{% extends 'base.html' %}

{% block title %}
	my profile
{% endblock title %}

{% block content %}
	<!------- Profile Page ------->
	<div class="ui segment">
		{% if confirm %}
			<div class="ui green message">Your profile has been updated.</div>
		{% endif %}
		<h3>my profile: {{request.user}}</h3>
		<div class="ui grid">
			<div class="row">
				<div class="ui medium rounded img-10">
					<image class="img-size" src={{profile.avatar.url}}>
					<div class="row mt-5">
						<button class="ui secondary button" id="modal-btn">Update your profile</button>
					</div>
				</div>
				<div class="ten wide column">
					<table class="ui table">
						<div class="row">
							<tbody>
								<tr>
									<td>Username</td>
									<td>{{profile.user}}</td>
								</tr>
								<tr>
									<td>First Name</td>
									<td>{{profile.first_name}}</td>
								</tr>
								<tr>
									<td>Last Name</td>
									<td>{{profile.last_name}}</td>
								</tr>
								<tr>
									<td>Email</td>
									<td>{{profile.email}}</td>
								</tr>
								<tr>
									<td>Bio</td>
									<td>{{profile.bio}}</td>
								</tr>
								<tr>
									<td>Country</td>
									<td>{{profile.country}}</td>
								</tr>
								<tr>
									<td>Friends</td>
									<td>{{profile.get_friends_count}}</td>
								</tr>
								<tr>
									<td>Number of Friends</td>
									<td>
										<ul>
											{% for friends in profile.get_friends %}
												<li>{{friends}}</li>
											{% endfor %}
										</ul>
									</td>
								</tr>
								<tr>
									<td>Number of Posts</td>
									<td>{{profile.get_posts_count}}</td>
								</tr>
								<tr>
									<td>Number of Likes given</td>
									<td>{{profile.get_likes_given_count}}</td>
								</tr>
								<tr>
									<td>Number of Likes received</td>
									<td>{{profile.get_likes_received_count}}</td>
								</tr>
								
							</tbody>
						</div>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!---- //Profile Page End// ---->


	<!---------- MODAL ------------>
	<div class="ui modal mymodal">
  		<i class="close icon"></i>
  		<div class="header">
    		Profile Picture
  		</div>
  		<div class="image content">
		    <div class="ui medium image">
		      	<img src="{{profile.avatar.url}}">
		    </div>
		    <div class="description">
		    	<div class="ui header">Provide some additional info about you</div>
		    	<form action="" method="POST" class="ui form" enctype="multipart/form-data">
					{% csrf_token %}
					{{form.as_p}}

					<div class="actions">
						<button type="submit" class="ui positive right labeled icon button ml-0">
							Update
							<i class="checkmark icon"></i>
						</button>
					</div>
		      	</form>
		    </div>
  		</div>
	</div>
	<!--------- //MODAL END// --------->

{% endblock content %}